<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Index</title>
    <link rel="stylesheet" href="css/style_old.css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <section class="wrapper">
        <section class="menu">
            <div class="timerView">
                <h1>Timer</h1>
                <span class="timer">00:00</span>
            </div>
            <div class="pointView">
                <h1>Points</h1>
                <span class="points">0</span>
            </div>
            <div class="counterView">
                <h1>Counter</h1>
                <span class="counter">0</span>
            </div>
        </section>

        <section class="playground" id="memory">
            <ul class="deck" id="deckdeck">
                <!--
                <li class="card" animal="duck">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/01.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="lion">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/02.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="dog">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/03.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="frog">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/04.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="shark">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/05.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="bear">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/06.gif" alt="image">
                    </div>
                </li>
                <li class="card" animal="cat">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/07.gif" alt="image">
                    </div>
                </li>
                <li class="card" animal="rabbit">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/08.gif" alt="image">
                    </div>
                </li>
                <li class="card" animal="duck">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/01.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="lion">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/02.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="dog">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/03.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="frog">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/04.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="shark">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/05.png" alt="image">
                    </div>
                </li>
                <li class="card" animal="bear">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/06.gif" alt="image">
                    </div>
                </li>
                <li class="card" animal="cat">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/07.gif" alt="image">
                    </div>
                </li>
                <li class="card" animal="rabbit">
                    <div class="view close">
                        <span class="material-icons">question_mark</span>
                    </div>
                    <div class="view open">
                        <img src="img/memory/08.gif" alt="image">
                    </div>
                </li>-->
            </ul>
        </section>
    </section>

    <script>
        /*
        async function loadLevel(level) {
            const response = await fetch('../json/data.json');
            const data = await response.json();
            //console.log(data.levels[level].cards);
            return axios(parseInt(data.levels[level].cards));
        }*/

        /*
        (async() => {

            const zahl = 0;

            const asyncExample = async() => {

                let data;
                try {
                    const response = await fetch('../json/data.json');
                    data = await response.json();
                } catch (err) {
                    console.log(err);
                }
                return data.levels[0].cards;
            };

            //Save response on a variable
            const globaldata = await asyncExample();
            createCards(globaldata);
            //console.log(globaldata);
            // return globalData;
        })();*/

        //console.log(globaldata)

        //const zahl = await loadLevel(0);

        function doSomething(success){
            let container = document.getElementById('deckdeck');

            // erstelle ein neues div Element
            // und gib ihm etwas Inhalt
            let newLi = document.createElement("li")
            newLi.classList.add("card")
            newLi.setAttribute("animal", "duck")

            let newDiv = document.createElement("div")
            newDiv.classList.add("view")

            let newDiv2 = document.createElement("div")
            newDiv2.classList.add("view")

            let newSpan = document.createElement("span")
            let newContent = document.createTextNode("question_mark");

            let newSpan2 = document.createElement("span")
            let newContent2 = document.createTextNode("question_mark");

            newSpan.appendChild(newContent);
            newSpan2.appendChild(newContent2);

            newLi.appendChild(newDiv); // füge den Textknoten zum neu erstellten div hinzu.
            newLi.appendChild(newDiv2)

            newDiv.appendChild(newSpan);
            newDiv2.appendChild(newSpan2);

            // füge das neu erstellte Element und seinen Inhalt ins DOM ein
            let currentDiv = document.getElementById("div1");
            container.insertBefore(newLi, currentDiv);

            console.log(success.levels[0].cards)
        }

        fetch('../json/data.json')
            .then(data => data.json())
            .then(success => doSomething(success));

        function createCards() {

            let container = document.getElementById('deckdeck');

            for(i = 0; i < cards; i++) {
                //container.innerHTML += '<div class="items"></div>';
                container.innerHTML += '<li class="card" animal="duck">\n' +
                    '                    <div class="view close">\n' +
                    '                        <span class="material-icons">question_mark</span>\n' +
                    '                    </div>\n' +
                    '                    <div class="view open">\n' +
                    '                        <img src="img/memory/01.png" alt="image">\n' +
                    '                    </div>\n' +
                    '                </li>';
            }

            //var square= document.getElementsByClassName('items')[2];
            //square.style.backgroundColor='red';
        }

        /*
        const fetchPromise = fetch('../json/data.json');

        fetchPromise
            .then( response => {
                if (!response.ok) {
                    throw new Error(`HTTP error: ${response.status}`);
                }
                return response.json();
            })
            .then( json => {
                //createCards(json.levels[0].cards);
                zahl = json.levels[0].cards;
                console.log(json.levels[0].cards);
            })
            .catch( error => {
                console.error(`Could not get products: ${error}`);
            });*/


    </script>

    <script src="js/script_copy.js"></script>

</body>
</html>